# CNPトレカ交流会サイト ガイド

## 📋 サイト概要

**サイト名**: CNPトレカ交流会  
**URL**: https://cnp-tcg-events-lp-production.up.railway.app/  
**目的**: 全国のCNPトレーディングカード交流会の情報を集約し、参加者同士のコミュニティ形成を支援

### キャッチコピー
> 「全国のCNPトレーディングカード交流会情報をお届け。」

## 🎯 主要機能

### 1. 📅 イベント情報管理
- **イベントカレンダー**: 月間カレンダー形式でイベント表示
- **全国エリア別スケジュール**: 地域フィルタ機能付きイベント一覧
  - 対応エリア: 北海道、東北、関東、中部、近畿、中国、四国、九州・沖縄
- **イベント詳細ページ**: 各イベントの詳細情報と参加者管理

### 2. 👥 ユーザー参加システム
- **X(Twitter)認証**: OAuth 2.0による安全な認証
- **イベント参加機能**: ワンクリックで参加表明・キャンセル
- **参加者リスト**: リアルタイム参加者表示
- **マイページ**: 参加履歴の確認

### 3. 🔗 外部連携
- **CNPトレカファンサイト連携**: https://www.cnp-tradingcard.com/
- **Twitter投稿機能**: イベント情報の拡散支援
- **ソーシャル共有**: SNSでのイベント情報シェア

### 4. 👨‍💼 管理機能（管理者限定）
- **イベント作成・編集・削除**
- **イベントマスター管理**
- **ユーザー管理**
- **参加者統計**

## 🏗️ 技術アーキテクチャ

### フロントエンド
- **Next.js 14**: React フルスタックフレームワーク
- **TypeScript**: 型安全な開発
- **Tailwind CSS**: ユーティリティファーストCSS
- **レスポンシブデザイン**: モバイル・デスクトップ対応

### バックエンド
- **Next.js API Routes**: サーバーレス API
- **NextAuth.js**: 認証・セッション管理
- **PostgreSQL**: リレーショナルデータベース
- **bcrypt**: パスワードハッシュ化

### インフラ・デプロイ
- **Railway**: ホスティングプラットフォーム
- **SSL/TLS**: 暗号化通信
- **環境変数管理**: セキュアな設定管理

## 🎨 デザインシステム

### カラーパレット
- **CNPブルー**: `#3B82F6` - メインブランドカラー
- **背景グラデーション**: `from-slate-50 to-blue-50`
- **テキスト**: `text-gray-900` (メイン), `text-gray-600` (サブ)

### UI コンポーネント
- **CNPカード**: `cnp-card` - 統一されたカード形式
- **CNPボタン**: `cnp-button-primary` - ブランド統一ボタン
- **レスポンシブ**: モバイルファースト設計

## 📱 ページ構成

### パブリックページ
- **`/`**: ホーム - イベントカレンダー・エリア別一覧
- **`/events`**: イベント一覧
- **`/events/[id]`**: イベント詳細・参加管理
- **`/auth/signin`**: ログインページ（利用規約同意機能付き）
- **`/privacy`**: プライバシーポリシー
- **`/terms`**: 利用規約
- **`/mypage`**: マイページ（認証要）

### 管理者ページ（認証要）
- **`/admin`**: 管理者ダッシュボード
- **`/admin/events/create`**: イベント作成
- **`/admin/events/masters`**: イベントマスター管理
- **`/admin/users`**: ユーザー管理

## 🔐 セキュリティ対策

### 認証・認可
- **X OAuth 2.0**: 安全な外部認証
- **NextAuth.js**: セッション管理
- **CSRF保護**: 標準実装
- **管理者権限**: ユーザーレベル別アクセス制御

### データ保護
- **SQL インジェクション対策**: パラメータ化クエリ
- **XSS対策**: Next.js標準サニタイゼーション
- **SSL/TLS**: 全通信暗号化
- **環境変数**: 機密情報の安全管理

### 法的コンプライアンス
- **プライバシーポリシー**: GDPR対応
- **利用規約**: サービス利用条件
- **同意機構**: ログイン時の必須同意

## 📊 主要データ構造

### イベント情報
```
- ID, 名称, 開催日時
- 開始/終了時間, 主催者
- エリア, 都道府県
- 会場名, 住所
- URL, 説明文
```

### 参加者情報
```
- ユーザーID (X), 名前
- アイコンURL, 参加日時
- 参加履歴
```

## 🚀 パフォーマンス特徴

### 高速化技術
- **Server-Side Rendering (SSR)**: 初期表示高速化
- **Dynamic Imports**: コード分割
- **Image Optimization**: Next.js標準最適化
- **Responsive Images**: デバイス最適化

### UX最適化
- **リアルタイム更新**: 参加状況即座反映
- **ローディング状態**: Suspense活用
- **エラーハンドリング**: 適切なエラー表示
- **Progressive Enhancement**: 段階的機能向上

## 📈 運用・保守

### 監視項目
- **アプリケーション応答時間**
- **データベース接続状況**
- **認証成功率**
- **イベント参加率**

### 定期メンテナンス
- **依存関係更新**
- **セキュリティパッチ適用**
- **データベース最適化**
- **ログ管理**

## 🎪 特徴的な機能

### 1. リアルタイム参加管理
- イベント参加・キャンセルの即座反映
- 参加者数のライブカウント
- 参加者プロフィール表示

### 2. エリアベースフィルタリング
- 日本全国を8エリアに分類
- 地域別イベント検索
- 居住地域に合わせたイベント発見

### 3. ソーシャル機能
- Twitter連携による情報拡散
- イベント情報の簡単シェア
- コミュニティ形成支援

### 4. 管理者ツール
- 直感的なイベント管理インターフェース
- 参加者統計・分析
- 効率的なコンテンツ更新

## 🌟 今後の展開可能性

### 機能拡張案
- **イベント評価システム**
- **参加者間メッセージ機能**
- **イベントレコメンド機能**
- **モバイルアプリ開発**

### コミュニティ発展
- **地域コミュニティリーダー制度**
- **イベント主催者支援プログラム**
- **CNPトレカ大会システム**
- **実績バッジシステム**

---

**開発者**: 図解師★ウルフ  
**最終更新**: 2025年1月11日  
**バージョン**: 1.0.0